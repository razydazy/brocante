{%- assign section_color = section.settings.color_scheme -%}
<section class="bg-scheme-background text-scheme-text logo-list section-y-padding" data-color-scheme="{{ section_color }}">
  {% unless section.settings.heading == blank %}
    <h2 class="font-heading section-title-align {{ settings.section_heading_font_size }} wrapper pb-10">
      {{ section.settings.heading }}
    </h2>
  {% endunless %}

  <div class="px-5 lg:px-10 flex flex-wrap lg:flex-nowrap items-center justify-center -mt-4 lg:mt-0">
      {%-for block in section.blocks -%}
        {% if block.settings.image != blank %}
          <div class="relative block w-1/3 mt-4 lg:mt-0 px-5" data-fade-in style="max-width: {{ section.settings.max_width }}px">
            {%- if block.settings.link != blank -%}
            <a href="{{ block.settings.link }}" class="block">
            {%- endif -%}
              <div class="relative" style="padding-top: 100%;">
                {% render 'image-object' with
                  image: block.settings.image,
                  contain: true
                %}
              </div>
            {%- if block.settings.link != blank -%}
            </a>
            {%- endif -%}
          </div>
        {% else %}
          <div class="relative block w-1/3 mt-4 lg:mt-0  px-5" data-fade-in style="max-width: {{ section.settings.max_width }}px" data-color-scheme="primary">
            {{ 'logo' | placeholder_svg_tag: 'placeholder-svg w-full h-full text-scheme-text fill-current' }}
          </div>
        {% endif %}
      {%- endfor -%}
  </div>
</section>

{% schema %}
  {
    "name": "Logo list",
    "disabled_on": {
      "groups": ["header", "footer", "aside"]
    },
    "settings": [
      {
        "id": "heading",
        "type": "text",
        "label": "Heading"
      },
      {
        "type":      "range",
        "id":        "max_width",
        "min":       20,
        "max":        800,
        "step":       10,
        "unit":       "px",
        "label":     "Logo max width",
        "default":   150
      },
      {
        "type":      "header",
        "content":   "Color"
      },
      {
        "type": "select",
        "id": "color_scheme",
        "label": "Color scheme",
        "options": [
            { "value": "primary", "label": "Primary"},
            { "value": "secondary", "label": "Secondary"},
            { "value": "tertiary", "label": "Tertiary"}
        ],
        "default":   "primary"
      }
    ],
    "blocks": [
      {
        "type": "image",
        "name": "Logo",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Link",
            "info": "Optional"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Logo list",
        "blocks": [
          {
            "type": "image"
          },
          {
            "type": "image"
          },
          {
            "type": "image"
          },
          {
            "type": "image"
          },
          {
            "type": "image"
          }
        ]
      }
  ]
  }
{% endschema %}
