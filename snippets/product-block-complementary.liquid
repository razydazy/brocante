{%- if recommendations.performed and recommendations.products_count > 0 -%}
  <div class="product-recommendations">
    <div class="-mt-theme-width border-t-theme-width border-b-theme-width border-scheme-border py-8" {{ block.shopify_attributes }} data-color-scheme="{{ section_color | default: 'primary' }}">
      {%- if block.settings.block_heading != blank -%}
        <h2 class="font-{{ block.settings.block_heading_text_style }} mb-6">{{ block.settings.block_heading }}</h2>
      {%- endif -%}
      <div class="grid gap-4 grid-cols-2 lg:grid-cols-3">
        {%- for product in recommendations.products -%}
          <div class="lg:mb-10">
            {%- render 'product-grid-item', product: product, section_color: section_color -%}
          </div>
        {%- endfor -%}
      </div>
    </div>
  </div>
{% else %}
  <div
    class="product-recommendations"
    data-section-id="{{ section.id }}"
    data-section-type="product-recommendations"
    data-request-url="{{ routes.product_recommendations_url }}?section_id={{ section.id }}&product_id={{ product.id }}&limit={{ block.settings.product_list_limit }}&intent=complementary"
  >
  </div>
{% endif %}
